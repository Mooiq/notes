!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.mChange=i():t.mChange=i()}(window,function(){return function(t){var i={};function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)n.d(e,o,function(i){return t[i]}.bind(null,o));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0)}([function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n(1);i.mode=e.mode;var o=n(2);i.makeMatrixChange=o.makeMatrixChange},function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mode=[{interval:140,duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.ceil((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t*this.col+i)%(this.baseNum+1)===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:140,duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.max((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t+i*this.row)%(this.baseNum+1)===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:140,duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.ceil((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t*this.col+i)%(this.baseNum+1)==this.baseNum-this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:140,duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.max((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t+i*this.row)%(this.baseNum+1)==this.baseNum-this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:140,duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t+i===this.num},next:function(){this.num++},end:function(){return this.col+this.row+1===this.num}},{interval:140,duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=this.row-1},check:function(t,i){return t-i===this.num},next:function(){this.num--},end:function(){return-this.col===this.num}},{interval:140,duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=1-this.col},check:function(t,i){return t-i===this.num},next:function(){this.num++},end:function(){return this.row===this.num}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num},next:function(){this.num++},end:function(){return this.row===this.num}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return i===this.num},next:function(){this.num++},end:function(){return this.col===this.num}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=this.row-1},check:function(t,i){return t===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=this.col-1},check:function(t,i){return i===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num&&i>=this.num||i===this.num&&t>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return this.row-t-1===this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.num===this.row-1:this.num===this.col-1}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&t>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:200,duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return this.row-t-1===this.num&&i>=this.num||i===this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:300,duration:"1400",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num&&i>=this.num&&this.col-i-1>=this.num||i===this.num&&t>=this.num&&this.row-t-1>=this.num||this.row-t-1===this.num&&i>=this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&t>=this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?Math.ceil(this.col/2)===this.num:Math.ceil(this.row/2)===this.num}},{interval:320,duration:"1800",init:function(t,i){this.row=t,this.col=i,this.num=0,this.center={x:(this.row-1)/2,y:(this.col-1)/2}},check:function(t,i){var n=Math.abs(t-this.center.x)+Math.abs(i-this.center.y);return n<this.num&&n>=this.num-1},next:function(){this.num++},end:function(){return this.num-1>this.center.x+this.center.y}},{interval:300,duration:"1600",init:function(t,i){this.row=t,this.col=i,this.num=this.row>this.col?Math.ceil((this.col-1)/2):Math.ceil((this.row-1)/2)},check:function(t,i){return(t===this.num||this.row-1-t===this.num)&&i>=this.num&&this.col-1-i>=this.num||(i===this.num||this.col-1-i===this.num)&&t>=this.num&&this.row-1-t>=this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:50,duration:"600",init:function(t,i){this.row=t,this.col=i,this.point=[[1,0],[0,this.col-1],[this.row-1,this.col-1],[this.row-1,0]],this.direction="row",this.positive=!0,this.iNow=0,this.jNow=0,this.allNum=this.col*this.row},check:function(t,i){return t===this.iNow&&i===this.jNow},next:function(){this.allNum--,"row"===this.direction&&this.jNow<this.point[1][1]&&this.positive?(this.jNow++,this.jNow===this.point[1][1]&&(this.direction="col",this.positive=!0,this.point[1]=[this.point[1][0]+1,this.point[1][1]-1])):"col"===this.direction&&this.iNow<this.point[2][0]&&this.positive?(this.iNow++,this.iNow===this.point[2][0]&&(this.direction="row",this.positive=!1,this.point[2]=[this.point[2][0]-1,this.point[2][1]-1])):"row"===this.direction&&this.jNow>this.point[3][1]&&!this.positive?(this.jNow--,this.jNow===this.point[3][1]&&(this.direction="col",this.positive=!1,this.point[3]=[this.point[3][0]-1,this.point[3][1]+1])):"col"===this.direction&&this.iNow>this.point[0][0]&&!this.positive&&(this.iNow--,this.iNow===this.point[0][0]&&(this.direction="row",this.positive=!0,this.point[0]=[this.point[0][0]+1,this.point[0][1]+1]))},end:function(){return 0===this.allNum}}]},function(t,i,n){"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(t){for(var i,n=1,e=arguments.length;n<e;n++)for(var o in i=arguments[n])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var o=n(3),s=n(5),r=n(6),h={nameSpace:r.getRandomStr(8),row:7,col:9,images:[]};i.makeMatrixChange=function(t,i){var n=e({},h,i);s.initContainerLayout(n.nameSpace,n.row,n.col);var u=s.initDom(t,n.nameSpace,n.row,n.col),c=new o.Matrix(n.row,n.col),a=n.images[0];return c.$on("changeStart",function(){a=n.images[r.getRandom(0,n.images.length-1)]}),c.$on("hitPoint",function(t){var i=t.point,n=t.mode,e=t.option;a=e.image?e.image:a;var o=e.className?e.className:"defaultChange",s="",r=u[i.x][i.y];if(!r.dataset.mchange){if(e.animate){o=e.classNameOut,s=e.classNameIn?e.classNameIn:e.classNameOut;var h=0,c=function(){if(r.className=r.dataset.oldclass,1===h)return r.dataset.mchange="",void r.removeEventListener("animationend",c);setTimeout(function(){r.className=l+" "+s}),h=1,r.children[0].style.backgroundImage="url("+a+")"};r.addEventListener("animationend",c)}else{var m=function(){r.dataset.mchange="",r.className=r.dataset.oldclass,r.removeEventListener("transitionend",m),r.children[0].style.backgroundImage="url("+a+")"};r.addEventListener("transitionend",m)}var l=r.dataset.oldclass;r.className=l+" "+o,r.dataset.mchange="1",r.style.transition=n.duration/1e3+"s"}}),{movePoint:c.movePoint.bind(c),changeImages:function(t){n.images=t},matrixChange:c}}},function(t,i,n){"use strict";var e,o=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function i(i,n){void 0===i&&(i=7),void 0===n&&(n=9);var e=t.call(this)||this;return e.row=i,e.col=n,e.lock=!1,e}return o(i,t),i.prototype.movePoint=function(t,i){var n=this;if(void 0===i&&(i={}),!0!==this.lock){t.init(this.row,this.col),this.$emit("changeStart"),this.lock=!0;var e=setInterval(function(){for(var o=0;o<n.row;o++)for(var s=0;s<n.col;s++)t.check(o,s)&&n.$emit("hitPoint",{point:{x:o,y:s},mode:t,option:i});t.next(),t.end()&&(clearInterval(e),n.$emit("changeEnd"),setTimeout(function(){n.lock=!1},2e3))},t.interval)}},i}(n(4).Event);i.Matrix=s},function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=0,o=function(){function t(){this.id=e++,this._events={}}return t.prototype.$on=function(t,i){return this._events[t]||(this._events[t]=[]),this._events[t].push(i),this},t.prototype.$once=function(t,i){var n=this,e=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];n.$off(t,e),i.apply(n,o)};return e.fn=i,this.$on(t,e),this},t.prototype.$off=function(t,i){if(!arguments.length)return this._events={},this;var n=this._events[t];if(!n)return this;if(!i)return this._events[t]=[],this;if(i)for(var e=void 0,o=n.length;o--;)if((e=n[o])===i||e.fn===i){n.splice(o,1);break}return this},t.prototype.$emit=function(t){for(var i=this,n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var o=this._events[t];return o&&o.forEach(function(t){return t.apply(i,n)}),this},t}();i.Event=o},function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initContainerLayout=function(t,i,n){for(var e=["width:"+100/n+"%;","height:"+100/i+"%;","position: absolute;","overflow: hidden;","z-index: 2;"].join(""),o=["width:"+100*n+"%;","height:"+100*i+"%;","background-size: cover;","display: block;","position: absolute;","z-index: 1;","background-position: 50% 50%;"].join(""),s=[],r=1;r<=i;r++)for(var h=1;h<=n;h++){var u=["top:"+100/i*(r-1)+"%;","left:"+100/n*(h-1)+"%;"].join("");s.push("."+t+" .item-"+r+"-"+h+"{"+u+"}");var c=["top:"+-100*(r-1)+"%;","left:"+-100*(h-1)+"%;"].join("");s.push("."+t+" .item-"+r+"-"+h+" .child{"+c+"}")}var a=["."+t+"{"+["position:relative;","overflow: hidden;"].join("")+"}","."+t+" .defaultChange{transform: scale(0);border-radius: 50%;}","."+t+" .animation-item{"+e+"}","."+t+" .animation-item .child{"+o+"}",s.join("")].join(""),m=document.createElement("style");m.innerHTML=a,document.head.appendChild(m)},i.initDom=function(t,i,n,e){for(var o=document.createDocumentFragment(),s=[],r=1;r<=n;r++){for(var h=[],u=1;u<=e;u++){var c=document.createElement("div");c.className="animation-item item-"+r+"-"+u,c.dataset.oldclass=c.className;var a=document.createElement("div");a.className="child",c.appendChild(a),o.appendChild(c),h.push(c)}s.push(h)}return t.className+=" "+i,t.appendChild(o),s}},function(t,i,n){"use strict";function e(t,i){return Math.round(Math.random()*(i-t))+t}Object.defineProperty(i,"__esModule",{value:!0}),i.getRandom=e,i.getRandomStr=function(t){for(var i="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o=0;o<t;o++)i+=n[e(0,n.length)];return i}}])});
